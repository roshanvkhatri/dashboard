!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("angular-svg-icon",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","@angular/common/http"],e):e((t=t||self)["angular-svg-icon"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.common.http)}(this,(function(t,e,r,n,i,s){"use strict";var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){},h=function(t){function r(e){var r=t.call(this)||this;return r.http=e,r}return a(r,t),r.prototype.getSvg=function(t){return this.http.get(t,{responseType:"text"})},r.ctorParameters=function(){return[{type:s.HttpClient}]},r=c([e.Injectable(),l("design:paramtypes",[s.HttpClient])],r)}(p),u=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},y=new e.InjectionToken("SERVER_URL"),g=function(){function t(t,e,r,n){this.loader=t,this.platformId=e,this.serverUrl=r,this._document=n,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}return t.prototype.addSvg=function(t,e){if(!this.iconsByUrl.has(t)){var r=this.document.createElement("DIV");r.innerHTML=e;var n=r.querySelector("svg");this.iconsByUrl.set(t,n)}},t.prototype.loadSvg=function(t,e){var r=this;if(void 0===e&&(e=t),this.serverUrl&&null===t.match(/^(http(s)?):/)&&(t=this.serverUrl+t,e=t),this.iconsByUrl.has(e))return n.of(this.iconsByUrl.get(e));if(this.iconsLoadingByUrl.has(e))return this.iconsLoadingByUrl.get(e);var s=this.loader.getSvg(t).pipe(i.map((function(t){var e=r.document.createElement("DIV");return e.innerHTML=t,e.querySelector("svg")})),i.tap((function(t){return r.iconsByUrl.set(e,t)})),i.catchError((function(t){return console.error(t),n.throwError(t)})),i.finalize((function(){return r.iconsLoadingByUrl.delete(e)})),i.share());return this.iconsLoadingByUrl.set(e,s),s},t.prototype.getSvgByName=function(t){return this.iconsByUrl.has(t)?n.of(this.iconsByUrl.get(t)):this.iconsLoadingByUrl.has(t)?this.iconsLoadingByUrl.get(t):n.throwError("No svg with name '"+t+"' has been loaded")},t.prototype.unloadSvg=function(t){this.iconsByUrl.has(t)&&this.iconsByUrl.delete(t)},t.ctorParameters=function(){return[{type:p},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:String,decorators:[{type:e.Optional},{type:e.Inject,args:[y]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[r.DOCUMENT]}]}]},t=u([e.Injectable(),d(1,e.Inject(e.PLATFORM_ID)),d(2,e.Optional()),d(2,e.Inject(y)),d(3,e.Optional()),d(3,e.Inject(r.DOCUMENT)),f("design:paramtypes",[p,Object,String,Object])],t)}();function v(t,e,r,n,i){return t||new g(e,r,n,i)}var m={provide:g,deps:[[new e.Optional,new e.SkipSelf,g],p,[e.PLATFORM_ID],[new e.Optional,y],[new e.Optional,r.DOCUMENT]],useFactory:v},b=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},S=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},R=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_=function(){function t(t,e,r,n,i){this.element=t,this.differs=e,this.renderer=r,this.iconReg=n,this.cdr=i,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.loaded=!1}return Object.defineProperty(t.prototype,"svgStyle",{set:function(t){this._svgStyle=t,!this.differ&&t&&(this.differ=this.differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.init()},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.ngOnChanges=function(t){(t.src||t.name)&&(this.loaded&&this.destroy(),this.init()),t.stretch&&this.stylize(),t.applyClass&&(this.applyClass?this.setClass(null,this.klass):this.setClass(this.klass,null)),t.svgClass&&this.setClass(t.svgClass.previousValue,t.svgClass.currentValue),t.klass&&(this.applyClass?this.setClass(t.klass.previousValue,t.klass.currentValue):this.setClass(t.klass.previousValue,null)),t.viewBox&&(this.loaded&&this.destroy(),this.init()),t.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead"))},t.prototype.ngDoCheck=function(){if(this.svg&&this.differ){var t=this.differ.diff(this._svgStyle);t&&this.applyChanges(t)}},t.prototype.init=function(){if(this.name)this.icnSub=this.iconReg.getSvgByName(this.name).subscribe(this.initSvg.bind(this));else if(this.src)this.icnSub=this.iconReg.loadSvg(this.src).subscribe(this.initSvg.bind(this));else{this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}},t.prototype.initSvg=function(t){this.loaded||(this.setSvg(t),this.resetDiffer())},t.prototype.destroy=function(){this.svg=void 0,this.differ=void 0,this.loaded=!1,this.icnSub&&this.icnSub.unsubscribe()},t.prototype.resetDiffer=function(){this._svgStyle&&!this.differ&&(this.differ=this.differs.find(this._svgStyle).create())},t.prototype.setSvg=function(t){if(!this.loaded&&t){this.svg=t;var e=t.cloneNode(!0),r=this.element.nativeElement;if(this.copyNgContentAttribute(r,e),this.klass&&this.applyClass&&this.renderer.setAttribute(e,"class",this.klass),this.svgClass&&this.renderer.setAttribute(e,"class",this.svgClass),this.viewBox)if("auto"===this.viewBox){var n=e.getAttribute("width"),i=e.getAttribute("height");if(i&&n){var s="0 0 "+n+" "+i;this.renderer.setAttribute(e,"viewBox",s),this.renderer.removeAttribute(e,"width"),this.renderer.removeAttribute(e,"height")}}else""!==this.viewBox&&(this.renderer.setAttribute(e,"viewBox",this.viewBox),this.renderer.removeAttribute(e,"width"),this.renderer.removeAttribute(e,"height"));r.innerHTML="",this.renderer.appendChild(r,e),this.loaded=!0,this.stylize(),this.cdr.markForCheck()}},t.prototype.copyNgContentAttribute=function(t,e){for(var r=t.attributes,n=r.length,i=0;i<n;i+=1){var s=r.item(i);if(s.name.startsWith("_ngcontent")){this.setNgContentAttribute(e,s.name);break}}},t.prototype.setNgContentAttribute=function(t,e){this.renderer.setAttribute(t,e,"");for(var r=t.childNodes.length,n=0;n<r;n+=1){var i=t.childNodes[n];i instanceof Element&&this.setNgContentAttribute(i,e)}},t.prototype.stylize=function(){if(this.svg){var t=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(t,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(t,"preserveAspectRatio")}},t.prototype.applyChanges=function(t){var e=this;t.forEachRemovedItem((function(t){return e.setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e.setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e.setStyle(t.key,t.currentValue)}))},t.prototype.setStyle=function(t,e){var r=C(t.split("."),2),n=r[0],i=r[1];e=null!==e&&i?""+e+i:e;var s=this.element.nativeElement.firstChild;null!==e?this.renderer.setStyle(s,n,e):this.renderer.removeStyle(s,n)},t.prototype.setClass=function(t,e){var r,n,i=this.element.nativeElement.firstChild;if(i&&(t&&this.renderer.removeClass(i,t),e)){var s=e.split(" ");try{for(var o=R(s),a=o.next();!a.done;a=o.next()){var c=a.value;this.renderer.addClass(i,c)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}},t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.KeyValueDiffers},{type:e.Renderer2},{type:g},{type:e.ChangeDetectorRef}]},b([e.Input(),S("design:type",String)],t.prototype,"src",void 0),b([e.Input(),S("design:type",String)],t.prototype,"name",void 0),b([e.Input(),S("design:type",Object)],t.prototype,"stretch",void 0),b([e.Input(),S("design:type",Object)],t.prototype,"applyClass",void 0),b([e.Input(),S("design:type",Object)],t.prototype,"applyCss",void 0),b([e.Input(),S("design:type",String)],t.prototype,"svgClass",void 0),b([e.Input("class"),S("design:type",String)],t.prototype,"klass",void 0),b([e.Input(),S("design:type",String)],t.prototype,"viewBox",void 0),b([e.Input(),S("design:type",Object),S("design:paramtypes",[Object])],t.prototype,"svgStyle",null),t=b([e.Component({selector:"svg-icon",template:"<ng-content></ng-content>"}),S("design:paramtypes",[e.ElementRef,e.KeyValueDiffers,e.Renderer2,g,e.ChangeDetectorRef])],t)}(),O=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},j=function(){function t(){}var n;return n=t,t.forRoot=function(t){return void 0===t&&(t={}),{ngModule:n,providers:[m,t.loader||{provide:p,useClass:h}]}},t=n=O([e.NgModule({imports:[r.CommonModule],declarations:[_],exports:[_]})],t)}();t.AngularSvgIconModule=j,t.SERVER_URL=y,t.SVG_ICON_REGISTRY_PROVIDER=m,t.SVG_ICON_REGISTRY_PROVIDER_FACTORY=v,t.SvgHttpLoader=h,t.SvgIconComponent=_,t.SvgIconRegistryService=g,t.SvgLoader=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-svg-icon.umd.min.js.map